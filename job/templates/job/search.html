{% load static %}
<!doctype html>
<html lang="en" class="h-100">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Search</title>

    <link href="{% static 'job/css/bootstrap.min.css' %}" rel="stylesheet">
    <script src="{% static 'job/js/bootstrap.bundle.min.js' %}"></script>

    <style>
      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }
    </style>
    <!-- Custom styles for this template -->
    <link href="{% static 'job/css/cover.css' %}" rel="stylesheet">
  </head>
  <body class="d-flex h-100 text-center text-white bg-dark">

<div class="cover-container d-flex w-400 h-100 p-3 mx-auto flex-column">
  <header class="mb-auto">
    <div>
      <h3 class="float-md-start mb-0">ScanWebShell</h3>
      <nav class="nav nav-masthead justify-content-center float-md-end">
        <a class="nav-link active" aria-current="page" href="/index/">Home</a>
        <a class="nav-link" href="/job/upload/">Upload</a>
        <a class="nav-link" href="/job/count/">Count</a>
        <a class="nav-link" href="/user/logout/">Logout</a>
      </nav>
    </div>
  </header>

  <main class="px-3">

  {% if message_warning %}
    <div class="alert alert-warning" role="alert">{{ message_warning }}</div>
  {% endif %}
  {% if not message_warning %}
   <h3 class="float-md-start mb-0 text-center">检测文件为:{{ scan_task.scan_file_name }}</h3>
    <table class="table table-dark table-responsive Newtable-striped table-bordered">
        <thead>
          <tr>
            <th scope="col">ID</th>
            <th scope="col">结果</th>
          </tr>
        </thead>
        <tbody>
            {% for id in range_id %}
              <tr>
              <th scope="row">{{ id|add:1 }}</th>
              <td>{{ contacts_files|get_item:id }}</td>
              </tr>
            {% endfor %}
        </tbody>
      </table>

  <nav aria-label="Page navigation">
    <ul class="pagination justify-content-center" >
        {% if contacts_files.has_previous %}
            <li class="page-item">
                <a class="page-link" href="?page={{ contacts_files.previous_page_number }}&task_id={{ task_id }}" aria-label="Previous">
                    <span aria-hidden="true">上一页</span>
                </a>
            </li>
        {% else %}
            <li class="page-item disabled">
                <a class="page-link" href="#" aria-label="Previous">
                    <span aria-hidden="true">上一页</span>
                </a>
            </li>
        {% endif %}

        {% for item in paginator_result.page_range %}
            {% if page == item %}
                <li class="page-item disabled"><a class="page-link" href="?page={{ item }}"&task_id={{ task_id }}>{{ item }}</a></li>
            {% else %}
                <li class="page-item"><a class="page-link" href="?page={{ item }}&task_id={{ task_id }}">{{ item }}</a></li>
            {% endif %}
        {% endfor %}

        {% if contacts_files.has_next %}
            <li class="page-item">
                <a class="page-link" href="?page={{ contacts_files.next_page_number }}&task_id={{ task_id }}" aria-label="Next">
                    <span aria-hidden="true">下一页</span>
                </a>
            </li>
        {% else %}
            <li class="page-item disabled">
                <a class="page-link" href="#" aria-label="Next">
                    <span aria-hidden="true">下一页</span>
                </a>
            </li>
        {% endif %}
    </ul>
</nav>
 {% endif %}

  </main>

  <footer class="mt-auto text-white-50">
    <p>Created by <a href="http://is.cumt.edu.cn/" class="text-white">BXS</a>@<a href="https://xzaslxr.xyz/" class="text-white">fe1w0</a>.</p>
  </footer>
</div>
  </body>
</html>
